# This warning should indicate that you mix cjs and mjs imports.
# While this is a nice feature it has a weird side effect:
# Jest triggers this check and floods the console every time a test imports yjs.
# This happens between all test suites and every time you call jest.resetModules().
# Nothing breaks here. Jest does what it should.
# Therefore this commit suppresses this warning in test mode.

diff --git a/dist/yjs.cjs b/dist/yjs.cjs
index f25a7506d4b0529511b2660358c58c389c5a475b..7f85e6419f53fe8b81ee7c7bc152df1534d7399e 100644
--- a/dist/yjs.cjs
+++ b/dist/yjs.cjs
@@ -10307,7 +10307,7 @@ const glo = /** @type {any} */ (typeof globalThis !== 'undefined'
 
 const importIdentifier = '__ $YJS$ __';
 
-if (glo[importIdentifier] === true) {
+if (glo[importIdentifier] === true && process.env.NODE_ENV !== 'test') {
   /**
    * Dear reader of this message. Please take this seriously.
    *
diff --git a/dist/yjs.mjs b/dist/yjs.mjs
index 42b391674344195eacdea05dffe2a12daae59c73..7cc239e2ecc8c19c59948606fa10134ac28c2077 100644
--- a/dist/yjs.mjs
+++ b/dist/yjs.mjs
@@ -10270,7 +10270,7 @@ const glo = /** @type {any} */ (typeof globalThis !== 'undefined'
 
 const importIdentifier = '__ $YJS$ __';
 
-if (glo[importIdentifier] === true) {
+if (glo[importIdentifier] === true && process.env.NODE_ENV !== 'test') {
   /**
    * Dear reader of this message. Please take this seriously.
    *
